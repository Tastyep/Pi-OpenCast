{"version":3,"sources":["components/header.js","services/api/api.js","services/api/player.js","components/stream_input.js","services/api/video.js","services/api/playlist.js","components/video_list.js","components/player_controls.js","components/volume_control.js","components/app.js","index.js","images/no-preview.png"],"names":["Header","AppBar","position","elevation","Toolbar","IconButton","edge","color","aria-label","Typography","variant","API_URL","document","location","origin","replace","axios","create","baseURL","a","API","get","url","post","params","id","forward","long","value","streamMedia","queueMedia","playMedia","stopMedia","pauseMedia","seekMedia","updateVolume","toggleSubtitle","seekSubtitle","StreamInput","useState","setUrl","playerAPI","action","setAction","castVariant","setCastVariant","queueVariant","setQueueVariant","handleSubmit","event","preventDefault","catch","error","console","log","handleActionChange","cast","undefined","useEffect","onSubmit","e","noValidate","autoComplete","Grid","container","spacing","item","xs","sm","md","TextField","fullWidth","label","onChange","target","className","ButtonGroup","size","Button","onClick","delete","list","delete_","data","playlist_id","update","videos","useStyles","makeStyles","theme","createStyles","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","transform","title","primary","light","titleBar","VideoList","classes","setVideos","timer","setTimer","setVideoId","playlistId","setPlaylistId","listVideos","playlistAPI","then","response","interval","setInterval","queue","clearInterval","GridList","cols","map","tile","GridListTile","key","thumbnail","src","noPreview","alt","video","GridListTileBar","actionIcon","videoAPI","PlayerControls","pauseStatus","setPauseStatus","updatePlayerState","player","state","updatePlayer","args","VolumeControl","React","setValue","volume","setPlayerVolume","gutterBottom","Slider","newValue","onChangeCommitted","aria-labelledby","App","style","Paper","flex","padding","direction","Component","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.89aa8e0f.chunk.js","sourcesContent":["import React from \"react\";\nimport { AppBar, Toolbar, Typography, IconButton } from \"@material-ui/core\";\nimport CastConnectedIcon from \"@material-ui/icons/CastConnected\";\n\nconst Header = () => {\n  return (\n    <AppBar position=\"static\" elevation={1}>\n      <Toolbar>\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n          <CastConnectedIcon />\n        </IconButton>\n        <Typography variant=\"h6\">OpenCast</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\n\n// process.env.PORT is undefined for unknown reasons.\nconst API_URL = document.location.origin.replace(\"8081\", \"2020\") + \"/api\";\n\nexport default axios.create({\n  baseURL: API_URL,\n});\n","import API from \"./api\";\n\nasync function get() {\n  return await API.get(\"/player/\");\n}\n\nasync function streamMedia(url) {\n  return await API.post(\"/player/stream\", null, { params: { url: url } });\n}\n\nasync function queueMedia(url) {\n  return await API.post(\"/player/queue\", null, { params: { url: url } });\n}\n\nasync function playMedia(id) {\n  return await API.post(\"/player/play\", null, { params: { id: id } });\n}\n\nasync function stopMedia() {\n  return await API.post(\"/player/stop\");\n}\n\nasync function pauseMedia() {\n  return await API.post(\"/player/pause\");\n}\n\nasync function seekMedia(forward, long) {\n  return await API.post(\"/player/seek\", null, {\n    params: { forward: forward, long: long },\n  });\n}\n\nasync function updateVolume(value) {\n  return await API.post(\"/player/volume\", null, { params: { value: value } });\n}\n\nasync function toggleSubtitle() {\n  return await API.post(\"/player/subtitle/toggle\");\n}\n\nasync function seekSubtitle(forward) {\n  return await API.post(\"/player/subtitle/seek\", null, {\n    params: { forward: forward },\n  });\n}\n\nexport default {\n  get,\n  streamMedia,\n  queueMedia,\n  playMedia,\n  stopMedia,\n  pauseMedia,\n  seekMedia,\n  updateVolume,\n  toggleSubtitle,\n  seekSubtitle,\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport { TextField, Button, ButtonGroup, Grid } from \"@material-ui/core\";\n\nimport playerAPI from \"services/api/player\";\n\nimport \"./stream_input.css\";\n\nfunction StreamInput() {\n  const [url, setUrl] = useState(\"\");\n  const [action, setAction] = useState(() => playerAPI.streamMedia);\n  const [castVariant, setCastVariant] = useState(\"contained\");\n  const [queueVariant, setQueueVariant] = useState(\"outlined\");\n\n  const handleSubmit = (event) => {\n    if (event) {\n      event.preventDefault();\n    }\n    if (url === \"\") {\n      return;\n    }\n    action(url).catch((error) => console.log(error));\n    setUrl(\"\");\n  };\n\n  const handleActionChange = (cast) => {\n    // If clicking on the contained button\n    if (\n      (cast === true && action === playerAPI.streamMedia) ||\n      (cast === false && action === playerAPI.queueMedia)\n    ) {\n      handleSubmit(undefined);\n      return;\n    }\n    if (cast === true) {\n      setCastVariant(\"contained\");\n      setQueueVariant(\"outlined\");\n      setAction(() => playerAPI.streamMedia);\n    } else {\n      setCastVariant(\"outlined\");\n      setQueueVariant(\"contained\");\n      setAction(() => playerAPI.queueMedia);\n    }\n  };\n\n  useEffect(() => {\n    handleSubmit(undefined);\n  }, [action]);\n\n  return (\n    <form onSubmit={(e) => handleSubmit(e)} noValidate autoComplete=\"off\">\n      <Grid container spacing={1}>\n        <Grid item xs={6} sm={7} md={8}>\n          <TextField\n            fullWidth\n            id=\"outlined-basic\"\n            label=\"Media's URL\"\n            variant=\"standard\"\n            value={url}\n            onChange={(e) => setUrl(e.target.value)}\n          />\n        </Grid>\n        <Grid item xs={6} sm={5} md={4} className=\"StreamButtons\">\n          <ButtonGroup\n            size=\"medium\"\n            color=\"primary\"\n            aria-label=\"vertical contained primary button group\"\n          >\n            <Button\n              variant={castVariant}\n              onClick={() => handleActionChange(true)}\n            >\n              Cast\n            </Button>\n            <Button\n              variant={queueVariant}\n              onClick={() => handleActionChange(false)}\n            >\n              Queue\n            </Button>\n          </ButtonGroup>\n        </Grid>\n      </Grid>\n    </form>\n  );\n}\n\nexport default StreamInput;\n","import API from \"./api\";\n\nasync function list() {\n  return await API.get(\"/videos/\");\n}\n\nasync function get(id) {\n  return await API.get(\"/videos/\" + id);\n}\n\nasync function delete_(id) {\n  return await API.delete(\"/videos/\" + id);\n}\n\nexport default {\n  list,\n  get,\n  delete_,\n};\n","import API from \"./api\";\n\nasync function create(data) {\n  return await API.post(\"/playlists/\", data);\n}\n\nasync function list() {\n  return await API.get(\"/playlists/\");\n}\n\nasync function get(id) {\n  return await API.get(\"/playlists/\" + id);\n}\n\nasync function update(id, data) {\n  return await API.get(\"/playlists/\" + id, data);\n}\n\nasync function delete_(id) {\n  return await API.delete(\"/playlists/\" + id);\n}\n\nasync function videos(playlist_id) {\n  return await API.get(\"/playlists/\" + playlist_id + \"/videos\");\n}\n\nexport default {\n  create,\n  list,\n  get,\n  update,\n  delete_,\n  videos,\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport { Theme, createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport {\n  GridList,\n  GridListTile,\n  GridListTileBar,\n  IconButton,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport videoAPI from \"services/api/video\";\nimport playerAPI from \"services/api/player\";\nimport playlistAPI from \"services/api/playlist\";\n\nimport noPreview from \"images/no-preview.png\";\n\nimport \"./stream_input.css\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: \"center\",\n      overflow: \"hidden\",\n      backgroundColor: theme.palette.background.paper,\n    },\n    gridList: {\n      flexWrap: \"nowrap\",\n      // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n      transform: \"translateZ(0)\",\n    },\n    title: {\n      color: theme.palette.primary.light,\n    },\n    titleBar: {\n      background:\n        \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\",\n    },\n  })\n);\n\nfunction VideoList() {\n  const classes = useStyles();\n  const [videos, setVideos] = useState([]);\n  const [timer, setTimer] = useState(0);\n  const [videoId, setVideoId] = useState(null);\n  const [playlistId, setPlaylistId] = useState(null);\n\n  const deleteVideo = (video) => {\n    videoAPI\n      .delete_(video.id)\n      .then((response) => {\n        listVideos();\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const playMedia = (video) => {\n    playerAPI\n      .playMedia(video.id)\n      .then((response) => {\n        setVideoId(video.id);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const listVideos = () => {\n    playlistAPI\n      .videos(playlistId)\n      .then((response) => {\n        console.log(\"Videos: \", response.data);\n        setVideos(response.data);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  useEffect(() => {\n    let interval;\n    interval = setInterval(() => setTimer(timer + 1), 10000);\n\n    if (playlistId === null) {\n      playerAPI\n        .get()\n        .then((response) => {\n          setPlaylistId(response.data.queue);\n        })\n        .catch((error) => console.log(error));\n    } else {\n      listVideos();\n    }\n\n    return () => clearInterval(interval);\n  }, [timer, playlistId]);\n\n  return (\n    <div className={classes.root}>\n      <GridList className={classes.gridList} cols={4} spacing={2}>\n        {videos.map((tile) => (\n          <GridListTile key={tile.thumbnail}>\n            <img\n              src={tile.thumbnail === null ? noPreview : tile.thumbnail}\n              alt={tile.title}\n              onClick={() => playMedia(tile)}\n            />\n            <GridListTileBar\n              title={tile.title}\n              classes={{\n                root: classes.titleBar,\n                title: classes.title,\n              }}\n              actionIcon={\n                <IconButton\n                  aria-label={`delete ${tile.title}`}\n                  onClick={() => deleteVideo(tile)}\n                >\n                  <DeleteIcon className={classes.title} />\n                </IconButton>\n              }\n            />\n            )}\n          </GridListTile>\n        ))}\n      </GridList>\n    </div>\n  );\n}\n\nexport default VideoList;\n","import React, { useState, useEffect } from \"react\";\nimport { IconButton, ButtonGroup, Grid } from \"@material-ui/core\";\n\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport StopIcon from \"@material-ui/icons/Stop\";\nimport ClosedCaptionIcon from \"@material-ui/icons/ClosedCaption\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport FastRewindIcon from \"@material-ui/icons/FastRewind\";\nimport FastForwardIcon from \"@material-ui/icons/FastForward\";\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\n\nimport playerAPI from \"services/api/player\";\n\nimport \"./player_control.css\";\n\nfunction PlayerControls() {\n  const [pauseStatus, setPauseStatus] = useState(true);\n\n  const updatePlayerState = (player) => {\n    console.log(\"player: \", player);\n    if (player.state === \"PAUSED\") {\n      setPauseStatus(false);\n    } else {\n      setPauseStatus(true);\n    }\n  };\n\n  const updatePlayer = (update, ...args) => {\n    update(...args)\n      .then((response) => {\n        updatePlayerState(response.data);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  useEffect(() => {\n    updatePlayer(playerAPI.get);\n  }, []);\n\n  // Highlight subtitle button when on\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={6} md={4}>\n        <ButtonGroup size=\"small\" variant=\"text\">\n          <IconButton onClick={() => updatePlayer(playerAPI.pauseMedia)}>\n            {pauseStatus ? <PauseIcon /> : <PlayArrowIcon />}\n          </IconButton>\n          <IconButton onClick={() => updatePlayer(playerAPI.stopMedia)}>\n            <StopIcon />\n          </IconButton>\n        </ButtonGroup>\n      </Grid>\n      <Grid item xs={6} md={4} className=\"SeekButtons\">\n        <ButtonGroup size=\"small\" variant=\"text\">\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekMedia, false, true)}\n          >\n            <FastRewindIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekMedia, false, false)}\n          >\n            <ArrowLeftIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekMedia, true, false)}\n          >\n            <ArrowRightIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekMedia, true, true)}\n          >\n            <FastForwardIcon />\n          </IconButton>\n        </ButtonGroup>\n      </Grid>\n      <Grid item xs={12} md={4} className=\"SubtitleButtons\">\n        <ButtonGroup size=\"small\" variant=\"text\">\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekSubtitle, false)}\n          >\n            <RemoveCircleOutlineIcon />\n          </IconButton>\n          <IconButton onClick={() => updatePlayer(playerAPI.toggleSubtitle)}>\n            <ClosedCaptionIcon />\n          </IconButton>\n          <IconButton\n            onClick={() => updatePlayer(playerAPI.seekSubtitle, true)}\n          >\n            <AddCircleOutlineIcon />\n          </IconButton>\n        </ButtonGroup>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default PlayerControls;\n","import React, { useEffect } from \"react\";\nimport { Grid, Typography, Slider } from \"@material-ui/core\";\n\nimport VolumeDown from \"@material-ui/icons/VolumeDown\";\nimport VolumeUp from \"@material-ui/icons/VolumeUp\";\n\nimport playerAPI from \"services/api/player\";\n\nfunction VolumeControl() {\n  const [value, setValue] = React.useState(30);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const setPlayerVolume = (player) => {\n    setValue(player.volume);\n  };\n\n  const handleCommit = (event, newValue) => {\n    playerAPI.updateVolume(newValue);\n  };\n\n  useEffect(() => {\n    playerAPI\n      .get()\n      .then((response) => {\n        setPlayerVolume(response.data);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  return (\n    <div>\n      <Typography id=\"continuous-slider\" gutterBottom>\n        Volume {value} %\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item>\n          <VolumeDown />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={value}\n            onChange={handleChange}\n            onChangeCommitted={handleCommit}\n            aria-labelledby=\"continuous-slider\"\n          />\n        </Grid>\n        <Grid item>\n          <VolumeUp />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default VolumeControl;\n","import React, { Component } from \"react\";\n\nimport { Grid, Paper } from \"@material-ui/core\";\n\nimport Header from \"./header\";\nimport StreamInput from \"./stream_input\";\nimport VideoList from \"./video_list\";\nimport PlayerControls from \"./player_controls\";\nimport VolumeControl from \"./volume_control\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Grid container>\n        <Grid item sm={1} md={2} />\n        <Grid item container xs={12} sm={10} md={8}>\n          <Grid\n            item\n            container\n            style={{ display: \"block\", position: \"relative\" }}\n          >\n            <Header />\n            <Paper elevation={3} style={{ flex: 1, padding: 24 }}>\n              <Grid\n                item\n                container\n                direction=\"column\"\n                spacing={4}\n                style={{ display: \"block\" }}\n              >\n                <Grid item>\n                  <StreamInput />\n                </Grid>\n                <Grid item>\n                  <VideoList />\n                </Grid>\n                <Grid item>\n                  <PlayerControls />\n                </Grid>\n                <Grid item>\n                  <VolumeControl />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        </Grid>\n        <Grid item sm={1} md={2} />\n      </Grid>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"components/app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}